<section layout="column" layout-gt-md="row">
    <md-content flex layout="row" layout-align="center start">
        <div ng-class="vm.layout" class="layout-base">
            <div style="position:relative;" data-ng-repeat="component in vm.template">
                <!--<div layout="row" layout-align="end center">
                    <md-button class="md-icon-button" aria-label="Remove" title="Remove {{component.contentType}}" data-ng-click="vm.remove(component)"><md-icon md-font-icon="ion-close" alt="Plus"></md-icon></md-button>
                </div>-->
                <component component-data="component"></component>
            </div>
        </div>
    </md-content>
    <md-content flex="25" flex-sm="1">
        <md-card>
            <md-subheader class="md-primary">Page Settings</md-subheader>
            <md-card-content>               
                <md-input-container >
                    <label>Title</label>
                    <input data-ng-model="vm.page.title" />
                </md-input-container>
                <md-input-container>
                    <label>Permalink</label>
                    <input data-ng-model="vm.page.permaLink" />
                </md-input-container>
                <md-input-container>
                    <label>Ad Keywords</label>
                    <input data-ng-model="vm.page.adKeywords" />
                </md-input-container>
                <md-select placeholder="Choose a layout" ng-model="vm.layout">
                    <md-option value="layout-default">Default</md-option>
                    <md-option value="layout-full-width">Full-Width</md-option>
                    <md-option value="layout-ad-right">Ad Sidebar</md-option>
                </md-select>                
                <keyword-autocomplete data-ng-model="vm.keywords"></keyword-autocomplete>
                <div class="md-actions" layout="row" layout-align="end center">
                    <ent-button-delete buttontext="DELETE" object-type="page" object-id="{{vm.page.id}}"><md-button class="md-warn md-raised">Delete</md-button></ent-button-delete>
                    <span flex></span>
                    <md-button data-ng-click="vm.save()">Save</md-button>
                    <md-button data-ng-click="vm.publish()" class="md-hue-2">Publish</md-button>
                    
                </div>
            </md-card-content>
        </md-card>   
        <md-card>
            <md-content>
                <md-subheader class="md-primary">Publish & Expiration </md-subheader>
                <md-list>
                    <md-list-item ng-click="vm.setDate($event, 'publishDate')">
                        <md-icon md-font-icon="ion-android-calendar" style="font-size: 24px;"></md-icon>
                        <p>Publish on {{vm.page.publishDate | date:'MMMM d yyyy, h:mm a'}}</p>
                    </md-list-item>
                    <md-list-item ng-click="vm.setDate($event, 'expirationDate')">
                        <md-icon md-font-icon="ion-android-alarm-clock" style="font-size: 24px;"></md-icon>
                        <p>Expire on {{vm.page.expirationDate | date:'MMMM d yyyy, h:mm a'}}</p>
                        <md-checkbox class="md-secondary"></md-checkbox>
                    </md-list-item>
                </md-list>                
            </md-content>
        </md-card>     
    </md-content>
</section>
<nav mfb-menu position="br" effect="slidein" label="Actions"
     active-icon="ion-android-arrow-up" resting-icon="ion-edit"
     toggling-method="click">
    <button mfb-button icon="ion-plus" label="Add components" ng-click="vm.add()"></button>
    <button mfb-button icon="ion-grid" label="Reorder components" ng-click="vm.sort()"></button>
</nav>